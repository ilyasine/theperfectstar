!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(b){"use strict";var k=!1,l=!1,m=0,n=2e3,o=0,$=b,d=document,a=window,p=$(a),q=[],e=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||!1,f=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||!1;if(e)a.cancelAnimationFrame||(f=function(a){});else{var r=0;e=function(e,f){var b=new Date().getTime(),c=Math.max(0,16-(b-r)),d=a.setTimeout(function(){e(b+c)},c);return r=b+c,d},f=function(b){a.clearTimeout(b)}}var c,g,h,s=a.MutationObserver||a.WebKitMutationObserver||!1,t=Date.now||function(){return new Date().getTime()},j={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(h=(g=d.currentScript|| !!(c=d.getElementsByTagName("script")).length&&c[c.length-1])?g.src.split("?")[0]:"").split("/").length>0?h.split("/").slice(0,-1).join("/")+"/":"",preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},u=!1,v=function(){if(u)return u;var e=d.createElement("DIV"),c=e.style,g=navigator.userAgent,f=navigator.platform,b={};return b.haspointerlock="pointerLockElement"in d||"webkitPointerLockElement"in d||"mozPointerLockElement"in d,b.isopera="opera"in a,b.isopera12=b.isopera&&"getUserMedia"in navigator,b.isoperamini="[object OperaMini]"===Object.prototype.toString.call(a.operamini),b.isie="all"in d&&"attachEvent"in e&&!b.isopera,b.isieold=b.isie&&!("msInterpolationMode"in c),b.isie7=b.isie&&!b.isieold&&(!("documentMode"in d)||7===d.documentMode),b.isie8=b.isie&&"documentMode"in d&&8===d.documentMode,b.isie9=b.isie&&"performance"in a&&9===d.documentMode,b.isie10=b.isie&&"performance"in a&&10===d.documentMode,b.isie11="msRequestFullscreen"in e&&d.documentMode>=11,b.ismsedge="msCredentials"in a,b.ismozilla="MozAppearance"in c,b.iswebkit=!b.ismsedge&&"WebkitAppearance"in c,b.ischrome=b.iswebkit&&"chrome"in a,b.ischrome38=b.ischrome&&"touchAction"in c,b.ischrome22=!b.ischrome38&&b.ischrome&&b.haspointerlock,b.ischrome26=!b.ischrome38&&b.ischrome&&"transition"in c,b.cantouch="ontouchstart"in d.documentElement||"ontouchstart"in a,b.hasw3ctouch=!!a.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),b.hasmstouch=!b.hasw3ctouch&&!!a.MSPointerEvent,b.ismac=/^mac$/i.test(f),b.isios=b.cantouch&&/iphone|ipad|ipod/i.test(f),b.isios4=b.isios&&!("seal"in Object),b.isios7=b.isios&&"webkitHidden"in d,b.isios8=b.isios&&"hidden"in d,b.isios10=b.isios&&a.Proxy,b.isandroid=/android/i.test(g),b.haseventlistener="addEventListener"in e,b.trstyle=!1,b.hastransform=!1,b.hastranslate3d=!1,b.transitionstyle=!1,b.hastransition=!1,b.transitionend=!1,b.trstyle="transform",b.hastransform="transform"in c||function(){for(var d=["msTransform","webkitTransform","MozTransform","OTransform"],a=0,e=d.length;a<e;a++)if(void 0!==c[d[a]]){b.trstyle=d[a];break}b.hastransform=!!b.trstyle}(),b.hastransform&&(c[b.trstyle]="translate3d(1px,2px,3px)",b.hastranslate3d=/translate3d/.test(c[b.trstyle])),b.transitionstyle="transition",b.prefixstyle="",b.transitionend="transitionend",b.hastransition="transition"in c||function(){b.transitionend=!1;for(var d=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],e=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],f=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],a=0,g=d.length;a<g;a++)if(d[a]in c){b.transitionstyle=d[a],b.prefixstyle=e[a],b.transitionend=f[a];break}b.ischrome26&&(b.prefixstyle=e[1]),b.hastransition=b.transitionstyle}(),b.cursorgrabvalue=function(){var a=["grab","-webkit-grab","-moz-grab"];(b.ischrome&&!b.ischrome38||b.isie)&&(a=[]);for(var d=0,f=a.length;d<f;d++){var e=a[d];if(c.cursor=e,c.cursor==e)return e}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),b.hasmousecapture="setCapture"in e,b.hasMutationObserver=!1!==s,e=null,u=b,b},w=function(r,y){var g=this;this.version="3.7.6",this.name="nicescroll",this.me=y;var w=$("body"),b=this.opt={doc:w,win:!1};if($.extend(b,j),b.snapbackspeed=80,r)for(var u in b)void 0!==r[u]&&(b[u]=r[u]);if(b.disablemutationobserver&&(s=!1),this.doc=b.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(b.win?b.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==b.win,this.win=b.win||(this.ispage?p:this.doc),this.docscroll=this.ispage&&!this.haswrapper?p:this.win,this.body=w,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=b.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==b.rtlmode){var i=this.win[0]==a?this.body:this.win,h=i.css("writing-mode")||i.css("-webkit-writing-mode")||i.css("-ms-writing-mode")||i.css("-moz-writing-mode");"horizontal-tb"==h||"lr-tb"==h||""===h?(this.isrtlmode="rtl"==i.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==h||"tb"==h||"tb-rl"==h||"rl-tb"==h,this.isvertical="vertical-rl"==h||"tb"==h||"tb-rl"==h)}else this.isrtlmode=!0===b.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==b.scrollbarid)this.id=b.scrollbarid;else do this.id="ascrail"+n++;while(d.getElementById(this.id))this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=b.overflowx,this.overflowy=b.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=v();var c=$.extend({},this.detected);this.canhwscroll=c.hastransform&&b.hwacceleration,this.ishwscroll=this.canhwscroll&&g.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(c.iswebkit||c.isie||c.isie11):this.hasreversehr=!(c.iswebkit||c.isie&&!c.isie10&&!c.isie11):this.hasreversehr=!1,this.istouchcapable=!1,!c.cantouch&&(c.hasw3ctouch||c.hasmstouch)?this.istouchcapable=!0:c.cantouch&&!c.isios&&!c.isandroid&&(c.iswebkit||c.ismozilla)&&(this.istouchcapable=!0),b.enablemouselockapi||(c.hasmousecapture=!1,c.haspointerlock=!1),this.debounced=function(a,b,c){g&&(g.delaylist[a]||(g.delaylist[a]={h:e(function(){g.delaylist[a].fn.call(g),g.delaylist[a]=!1},c)},b.call(g)),g.delaylist[a].fn=b)},this.synched=function(a,b){g.synclist[a]?g.synclist[a]=b:(g.synclist[a]=b,e(function(){g&&(g.synclist[a]&&g.synclist[a].call(g),g.synclist[a]=null)}))},this.unsynched=function(a){g.synclist[a]&&(g.synclist[a]=!1)},this.css=function(b,c){for(var a in c)g.saved.css.push([b,a,b.css(a)]),b.css(a,c[a])},this.scrollTop=function(a){return void 0===a?g.getScrollTop():g.setScrollTop(a)},this.scrollLeft=function(a){return void 0===a?g.getScrollLeft():g.setScrollLeft(a)};var z=function(a,b,c,d,e,f,g){this.st=a,this.ed=b,this.spd=c,this.p1=d||0,this.p2=e||1,this.p3=f||0,this.p4=g||1,this.ts=t(),this.df=b-a};function B(){var a=g.doc.css(c.trstyle);return!!a&&"matrix"==a.substr(0,6)&&a.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}if(z.prototype={B2:function(a){return 3*(1-a)*(1-a)*a},B3:function(a){return 3*(1-a)*a*a},B4:function(a){return a*a*a},getPos:function(){return(t()-this.ts)/this.spd},getNow:function(){var a=(t()-this.ts)/this.spd,b=this.B2(a)+this.B3(a)+this.B4(a);return a>=1?this.ed:this.st+this.df*b|0},update:function(a,b){return this.st=this.getNow(),this.ed=a,this.spd=b,this.ts=t(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},c.hastranslate3d&&c.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(b){if(!b){var a=B();if(a)return 16==a.length?-a[13]:-a[5];if(g.timerscroll&&g.timerscroll.bz)return g.timerscroll.bz.getNow()}return g.doc.translate.y},this.getScrollLeft=function(b){if(!b){var a=B();if(a)return 16==a.length?-a[12]:-a[4];if(g.timerscroll&&g.timerscroll.bh)return g.timerscroll.bh.getNow()}return g.doc.translate.x},this.notifyScrollEvent=function(c){var b=d.createEvent("UIEvents");b.initUIEvent("scroll",!1,!1,a,1),b.niceevent=!0,c.dispatchEvent(b)};var C=this.isrtlmode?1:-1;c.hastranslate3d&&b.enabletranslate3d?(this.setScrollTop=function(a,b){g.doc.translate.y=a,g.doc.translate.ty=-1*a+"px",g.doc.css(c.trstyle,"translate3d("+g.doc.translate.tx+","+g.doc.translate.ty+",0)"),b||g.notifyScrollEvent(g.win[0])},this.setScrollLeft=function(a,b){g.doc.translate.x=a,g.doc.translate.tx=a*C+"px",g.doc.css(c.trstyle,"translate3d("+g.doc.translate.tx+","+g.doc.translate.ty+",0)"),b||g.notifyScrollEvent(g.win[0])}):(this.setScrollTop=function(a,b){g.doc.translate.y=a,g.doc.translate.ty=-1*a+"px",g.doc.css(c.trstyle,"translate("+g.doc.translate.tx+","+g.doc.translate.ty+")"),b||g.notifyScrollEvent(g.win[0])},this.setScrollLeft=function(a,b){g.doc.translate.x=a,g.doc.translate.tx=a*C+"px",g.doc.css(c.trstyle,"translate("+g.doc.translate.tx+","+g.doc.translate.ty+")"),b||g.notifyScrollEvent(g.win[0])})}else this.getScrollTop=function(){return g.docscroll.scrollTop()},this.setScrollTop=function(a){g.docscroll.scrollTop(a)},this.getScrollLeft=function(){return g.hasreversehr?g.detected.ismozilla?g.page.maxw-Math.abs(g.docscroll.scrollLeft()):g.page.maxw-g.docscroll.scrollLeft():g.docscroll.scrollLeft()},this.setScrollLeft=function(a){return setTimeout(function(){if(g)return g.hasreversehr&&(a=g.detected.ismozilla?-(g.page.maxw-a):g.page.maxw-a),g.docscroll.scrollLeft(a)},1)};this.getTarget=function(a){return!!a&&(a.target?a.target:!!a.srcElement&&a.srcElement)},this.hasParent=function(b,c){if(!b)return!1;for(var a=b.target||b.srcElement||b||!1;a&&a.id!=c;)a=a.parentNode||!1;return!1!==a};var D={thin:1,medium:3,thick:5};function E(c,d,e){var b=c.css(d),a=parseFloat(b);if(isNaN(a)){var f=3==(a=D[b]||0)?e?g.win.outerHeight()-g.win.innerHeight():g.win.outerWidth()-g.win.innerWidth():1;return g.isie8&&a&&(a+=1),f?a:0}return a}this.getDocumentScrollOffset=function(){return{top:a.pageYOffset||d.documentElement.scrollTop,left:a.pageXOffset||d.documentElement.scrollLeft}},this.getOffset=function(){if(g.isfixed){var a=g.win.offset(),c=g.getDocumentScrollOffset();return a.top-=c.top,a.left-=c.left,a}var b=g.win.offset();if(!g.viewport)return b;var d=g.viewport.offset();return{top:b.top-d.top,left:b.left-d.left}},this.updateScrollBar=function(e){var a,c;if(g.ishwscroll)g.rail.css({height:g.win.innerHeight()-(b.railpadding.top+b.railpadding.bottom)}),g.railh&&g.railh.css({width:g.win.innerWidth()-(b.railpadding.left+b.railpadding.right)});else{var d=g.getOffset();if(a={top:d.top,left:d.left-(b.railpadding.left+b.railpadding.right)},a.top+=E(g.win,"border-top-width",!0),a.left+=g.rail.align?g.win.outerWidth()-E(g.win,"border-right-width")-g.rail.width:E(g.win,"border-left-width"),(c=b.railoffset)&&(c.top&&(a.top+=c.top),c.left&&(a.left+=c.left)),g.railslocked||g.rail.css({top:a.top,left:a.left,height:(e?e.h:g.win.innerHeight())-(b.railpadding.top+b.railpadding.bottom)}),g.zoom&&g.zoom.css({top:a.top+1,left:1==g.rail.align?a.left-20:a.left+g.rail.width+4}),g.railh&&!g.railslocked){a={top:d.top,left:d.left},(c=b.railhoffset)&&(c.top&&(a.top+=c.top),c.left&&(a.left+=c.left));var f=g.railh.align?a.top+E(g.win,"border-top-width",!0)+g.win.innerHeight()-g.railh.height:a.top+E(g.win,"border-top-width",!0),h=a.left+E(g.win,"border-left-width");g.railh.css({top:f-(b.railpadding.top+b.railpadding.bottom),left:h,width:g.railh.width})}}},this.doRailClick=function(a,i,b){var c,f,e,h;g.railslocked||(g.cancelEvent(a),"pageY"in a||(a.pageX=a.clientX+d.documentElement.scrollLeft,a.pageY=a.clientY+d.documentElement.scrollTop),i?(c=b?g.doScrollLeft:g.doScrollTop,e=b?(a.pageX-g.railh.offset().left-g.cursorwidth/2)*g.scrollratio.x:(a.pageY-g.rail.offset().top-g.cursorheight/2)*g.scrollratio.y,g.unsynched("relativexy"),c(0|e)):(c=b?g.doScrollLeftBy:g.doScrollBy,e=b?g.scroll.x:g.scroll.y,h=b?a.pageX-g.railh.offset().left:a.pageY-g.rail.offset().top,f=b?g.view.w:g.view.h,c(e>=h?f:-f)))},g.newscrolly=g.newscrollx=0,g.hasanimationframe="requestAnimationFrame"in a,g.hascancelanimationframe="cancelAnimationFrame"in a,g.hasborderbox=!1,this.init=function(){if(g.saved.css=[],c.isoperamini||c.isandroid&&!("hidden"in d))return!0;b.emulatetouch=b.emulatetouch||b.touchbehavior,g.hasborderbox=a.getComputedStyle&&"border-box"===a.getComputedStyle(d.body)["box-sizing"];var q={"overflow-y":"hidden"};if((c.isie11||c.isie10)&&(q["-ms-overflow-style"]="none"),g.ishwscroll&&(this.doc.css(c.transitionstyle,c.prefixstyle+"transform 0ms ease-out"),c.transitionend&&g.bind(g.doc,c.transitionend,g.onScrollTransitionEnd,!1)),g.zindex="auto",g.ispage||"auto"!=b.zindex?g.zindex=b.zindex:g.zindex=function(){var a=g.win;if("zIndex"in a)return a.zIndex();for(;a.length>0&&9!=a[0].nodeType;){var b=a.css("zIndex");if(!isNaN(b)&&0!==b)return parseInt(b);a=a.parent()}return!1}()||"auto",!g.ispage&&"auto"!=g.zindex&&g.zindex>o&&(o=g.zindex),g.isie&&0===g.zindex&&"auto"==b.zindex&&(g.zindex="auto"),!g.ispage||!c.isieold){var f,r=g.docscroll;g.ispage&&(r=g.haswrapper?g.win:g.doc),g.css(r,q),g.ispage&&(c.isie11||c.isie)&&g.css($("html"),q),!c.isios||g.ispage||g.haswrapper||g.css(w,{"-webkit-overflow-scrolling":"touch"});var h=$(d.createElement("div"));h.css({position:"relative",top:0,float:"right",width:b.cursorwidth,height:0,"background-color":b.cursorcolor,border:b.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.cursorborderradius,"-moz-border-radius":b.cursorborderradius,"border-radius":b.cursorborderradius}),h.addClass("nicescroll-cursors"),g.cursor=h;var e=$(d.createElement("div"));e.attr("id",g.id),e.addClass("nicescroll-rails nicescroll-rails-vr");var v,t,y=["left","right","top","bottom"];for(var z in y)t=y[z],(v=b.railpadding[t]||0)&&e.css("padding-"+t,v+"px");e.append(h),e.width=Math.max(parseFloat(b.cursorwidth),h.outerWidth()),e.css({width:e.width+"px",zIndex:g.zindex,background:b.background,cursor:"default"}),e.visibility=!0,e.scrollable=!0,e.align="left"==b.railalign?0:1,g.rail=e,g.rail.drag=!1;var i=!1;if(b.boxzoom&&!g.ispage&&!c.isieold&&(i=d.createElement("div"),g.bind(i,"click",g.doZoom),g.bind(i,"mouseenter",function(){g.zoom.css("opacity",b.cursoropacitymax)}),g.bind(i,"mouseleave",function(){g.zoom.css("opacity",b.cursoropacitymin)}),g.zoom=$(i),g.zoom.css({cursor:"pointer",zIndex:g.zindex,backgroundImage:"url("+b.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),b.dblclickzoom&&g.bind(g.win,"dblclick",g.doZoom),c.cantouch&&b.gesturezoom&&(g.ongesturezoom=function(a){return a.scale>1.5&&g.doZoomIn(a),a.scale<.8&&g.doZoomOut(a),g.cancelEvent(a)},g.bind(g.win,"gestureend",g.ongesturezoom))),g.railh=!1,b.horizrailenabled&&(g.css(r,{overflowX:"hidden"}),(h=$(d.createElement("div"))).css({position:"absolute",top:0,height:b.cursorwidth,width:0,backgroundColor:b.cursorcolor,border:b.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":b.cursorborderradius,"-moz-border-radius":b.cursorborderradius,"border-radius":b.cursorborderradius}),c.isieold&&h.css("overflow","hidden"),h.addClass("nicescroll-cursors"),g.cursorh=h,(f=$(d.createElement("div"))).attr("id",g.id+"-hr"),f.addClass("nicescroll-rails nicescroll-rails-hr"),f.height=Math.max(parseFloat(b.cursorwidth),h.outerHeight()),f.css({height:f.height+"px",zIndex:g.zindex,background:b.background}),f.append(h),f.visibility=!0,f.scrollable=!0,f.align="top"==b.railvalign?0:1,g.railh=f,g.railh.drag=!1),g.ispage)e.css({position:"fixed",top:0,height:"100%"}),e.css(e.align?{right:0}:{left:0}),g.body.append(e),g.railh&&(f.css({position:"fixed",left:0,width:"100%"}),f.css(f.align?{bottom:0}:{top:0}),g.body.append(f));else{if(g.ishwscroll){"static"==g.win.css("position")&&g.css(g.win,{position:"relative"});var n="HTML"==g.win[0].nodeName?g.body:g.win;$(n).scrollTop(0).scrollLeft(0),g.zoom&&(g.zoom.css({position:"absolute",top:1,right:0,"margin-right":e.width+4}),n.append(g.zoom)),e.css({position:"absolute",top:0}),e.css(e.align?{right:0}:{left:0}),n.append(e),f&&(f.css({position:"absolute",left:0,bottom:0}),f.css(f.align?{bottom:0}:{top:0}),n.append(f))}else{g.isfixed="fixed"==g.win.css("position");var u=g.isfixed?"fixed":"absolute";g.isfixed||(g.viewport=g.getViewport(g.win[0])),g.viewport&&(g.body=g.viewport,/fixed|absolute/.test(g.viewport.css("position"))||g.css(g.viewport,{position:"relative"})),e.css({position:u}),g.zoom&&g.zoom.css({position:u}),g.updateScrollBar(),g.body.append(e),g.zoom&&g.body.append(g.zoom),g.railh&&(f.css({position:u}),g.body.append(f))}c.isios&&g.css(g.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),b.disableoutline&&(c.isie&&g.win.attr("hideFocus","true"),c.iswebkit&&g.win.css("outline","none"))}if(!1===b.autohidemode?(g.autohidedom=!1,g.rail.css({opacity:b.cursoropacitymax}),g.railh&&g.railh.css({opacity:b.cursoropacitymax})):!0===b.autohidemode||"leave"===b.autohidemode?(g.autohidedom=$().add(g.rail),c.isie8&&(g.autohidedom=g.autohidedom.add(g.cursor)),g.railh&&(g.autohidedom=g.autohidedom.add(g.railh)),g.railh&&c.isie8&&(g.autohidedom=g.autohidedom.add(g.cursorh))):"scroll"==b.autohidemode?(g.autohidedom=$().add(g.rail),g.railh&&(g.autohidedom=g.autohidedom.add(g.railh))):"cursor"==b.autohidemode?(g.autohidedom=$().add(g.cursor),g.railh&&(g.autohidedom=g.autohidedom.add(g.cursorh))):"hidden"==b.autohidemode&&(g.autohidedom=!1,g.hide(),g.railslocked=!1),c.cantouch||g.istouchcapable||b.emulatetouch||c.hasmstouch){g.scrollmom=new x(g),g.ontouchstart=function(a){if(g.locked||a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;if(g.hasmoving=!1,g.scrollmom.timer&&(g.triggerScrollEnd(),g.scrollmom.stop()),!g.railslocked){var d=g.getTarget(a);if(d&&/INPUT/i.test(d.nodeName)&&/range/i.test(d.type))return g.stopPropagation(a);var j="mousedown"===a.type;if(!("clientX"in a)&&"changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),g.forcescreen){var e=a;(a={original:a.original?a.original:a}).clientX=e.screenX,a.clientY=e.screenY}if(g.rail.drag={x:a.clientX,y:a.clientY,sx:g.scroll.x,sy:g.scroll.y,st:g.getScrollTop(),sl:g.getScrollLeft(),pt:2,dl:!1,tg:d},g.ispage||!b.directionlockdeadzone)g.rail.drag.dl="f";else{var f={w:p.width(),h:p.height()},h=g.getContentSize(),k=h.h-f.h,l=h.w-f.w;g.rail.scrollable&&!g.railh.scrollable?g.rail.drag.ck=k>0&&"v":!g.rail.scrollable&&g.railh.scrollable?g.rail.drag.ck=l>0&&"h":g.rail.drag.ck=!1}if(b.emulatetouch&&g.isiframe&&c.isie){var i=g.win.position();g.rail.drag.x+=i.left,g.rail.drag.y+=i.top}if(g.hasmoving=!1,g.lastmouseup=!1,g.scrollmom.reset(a.clientX,a.clientY),d&&j){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(d.nodeName))return(c.hasmousecapture&&d.setCapture(),b.emulatetouch)?(d.onclick&&!d._onclick&&(d._onclick=d.onclick,d.onclick=function(a){if(g.hasmoving)return!1;d._onclick.call(this,a)}),g.cancelEvent(a)):g.stopPropagation(a);/SUBMIT|CANCEL|BUTTON/i.test($(d).attr("type"))&&(g.preventclick={tg:d,click:!1})}}},g.ontouchend=function(a){if(!g.rail.drag)return!0;if(2==g.rail.drag.pt){if(a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!1;g.rail.drag=!1;var b="mouseup"===a.type;if(g.hasmoving&&(g.scrollmom.doMomentum(),g.lastmouseup=!0,g.hideCursor(),c.hasmousecapture&&d.releaseCapture(),b))return g.cancelEvent(a)}else if(1==g.rail.drag.pt)return g.onmouseup(a)};var C=b.emulatetouch&&g.isiframe&&!c.hasmousecapture,D=.3*b.directionlockdeadzone|0;g.ontouchmove=function(a,r){if(!g.rail.drag||a.targetTouches&&b.preventmultitouchscrolling&&a.targetTouches.length>1||a.pointerType&&("mouse"===a.pointerType||a.pointerType===a.MSPOINTER_TYPE_MOUSE))return!0;if(2==g.rail.drag.pt){if("changedTouches"in a&&(a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY),o=n=0,C&&!r){var n,o,p=g.win.position();o=-p.left,n=-p.top}var k=a.clientY+n,q=k-g.rail.drag.y,l=a.clientX+o,m=l-g.rail.drag.x,f=g.rail.drag.st-q;if(g.ishwscroll&&b.bouncescroll)f<0?f=Math.round(f/2):f>g.page.maxh&&(f=g.page.maxh+Math.round((f-g.page.maxh)/2));else if(f<0?(f=0,k=0):f>g.page.maxh&&(f=g.page.maxh,k=0),0===k&&!g.hasmoving)return g.ispage||(g.rail.drag=!1),!0;var e=g.getScrollLeft();if(g.railh&&g.railh.scrollable&&(e=g.isrtlmode?m-g.rail.drag.sl:g.rail.drag.sl-m,g.ishwscroll&&b.bouncescroll?e<0?e=Math.round(e/2):e>g.page.maxw&&(e=g.page.maxw+Math.round((e-g.page.maxw)/2)):(e<0&&(e=0,l=0),e>g.page.maxw&&(e=g.page.maxw,l=0))),!g.hasmoving){if(g.rail.drag.y===a.clientY&&g.rail.drag.x===a.clientX)return g.cancelEvent(a);var i=Math.abs(q),j=Math.abs(m),h=b.directionlockdeadzone;if(g.rail.drag.ck?"v"==g.rail.drag.ck?j>h&&i<=D?g.rail.drag=!1:i>h&&(g.rail.drag.dl="v"):"h"==g.rail.drag.ck&&(i>h&&j<=D?g.rail.drag=!1:j>h&&(g.rail.drag.dl="h")):i>h&&j>h?g.rail.drag.dl="f":i>h?g.rail.drag.dl=j>D?"f":"v":j>h&&(g.rail.drag.dl=i>D?"f":"h"),!g.rail.drag.dl)return g.cancelEvent(a);g.triggerScrollStart(a.clientX,a.clientY,0,0,0),g.hasmoving=!0}return g.preventclick&&!g.preventclick.click&&(g.preventclick.click=g.preventclick.tg.onclick||!1,g.preventclick.tg.onclick=g.onpreventclick),g.rail.drag.dl&&("v"==g.rail.drag.dl?e=g.rail.drag.sl:"h"==g.rail.drag.dl&&(f=g.rail.drag.st)),g.synched("touchmove",function(){g.rail.drag&&2==g.rail.drag.pt&&(g.prepareTransition&&g.resetTransition(),g.rail.scrollable&&g.setScrollTop(f),g.scrollmom.update(l,k),g.railh&&g.railh.scrollable?(g.setScrollLeft(e),g.showCursor(f,e)):g.showCursor(f),c.isie10&&d.selection.clear())}),g.cancelEvent(a)}if(1==g.rail.drag.pt)return g.onmousemove(a)},g.ontouchstartCursor=function(a,b){if(!g.rail.drag||3==g.rail.drag.pt){if(g.locked)return g.cancelEvent(a);g.cancelScroll(),g.rail.drag={x:a.touches[0].clientX,y:a.touches[0].clientY,sx:g.scroll.x,sy:g.scroll.y,pt:3,hr:!!b};var d=g.getTarget(a);return!g.ispage&&c.hasmousecapture&&d.setCapture(),g.isiframe&&!c.hasmousecapture&&(g.saved.csspointerevents=g.doc.css("pointer-events"),g.css(g.doc,{"pointer-events":"none"})),g.cancelEvent(a)}},g.ontouchendCursor=function(a){if(g.rail.drag&&(c.hasmousecapture&&d.releaseCapture(),g.isiframe&&!c.hasmousecapture&&g.doc.css("pointer-events",g.saved.csspointerevents),3==g.rail.drag.pt))return g.rail.drag=!1,g.cancelEvent(a)},g.ontouchmoveCursor=function(a){if(g.rail.drag&&3==g.rail.drag.pt){if(g.cursorfreezed=!0,g.rail.drag.hr){g.scroll.x=g.rail.drag.sx+(a.touches[0].clientX-g.rail.drag.x),g.scroll.x<0&&(g.scroll.x=0);var c=g.scrollvaluemaxw;g.scroll.x>c&&(g.scroll.x=c)}else{g.scroll.y=g.rail.drag.sy+(a.touches[0].clientY-g.rail.drag.y),g.scroll.y<0&&(g.scroll.y=0);var d=g.scrollvaluemax;g.scroll.y>d&&(g.scroll.y=d)}return g.synched("touchmove",function(){g.rail.drag&&3==g.rail.drag.pt&&(g.showCursor(),g.rail.drag.hr?g.doScrollLeft(Math.round(g.scroll.x*g.scrollratio.x),b.cursordragspeed):g.doScrollTop(Math.round(g.scroll.y*g.scrollratio.y),b.cursordragspeed))}),g.cancelEvent(a)}}}if(g.onmousedown=function(a,b){if(!g.rail.drag||1==g.rail.drag.pt){if(g.railslocked)return g.cancelEvent(a);g.cancelScroll(),g.rail.drag={x:a.clientX,y:a.clientY,sx:g.scroll.x,sy:g.scroll.y,pt:1,hr:b||!1};var d=g.getTarget(a);return c.hasmousecapture&&d.setCapture(),g.isiframe&&!c.hasmousecapture&&(g.saved.csspointerevents=g.doc.css("pointer-events"),g.css(g.doc,{"pointer-events":"none"})),g.hasmoving=!1,g.cancelEvent(a)}},g.onmouseup=function(a){if(g.rail.drag)return 1!=g.rail.drag.pt||(c.hasmousecapture&&d.releaseCapture(),g.isiframe&&!c.hasmousecapture&&g.doc.css("pointer-events",g.saved.csspointerevents),g.rail.drag=!1,g.cursorfreezed=!1,g.hasmoving&&g.triggerScrollEnd(),g.cancelEvent(a))},g.onmousemove=function(a){if(g.rail.drag){if(1===g.rail.drag.pt){if(c.ischrome&&0===a.which)return g.onmouseup(a);if(g.cursorfreezed=!0,g.hasmoving||g.triggerScrollStart(a.clientX,a.clientY,0,0,0),g.hasmoving=!0,g.rail.drag.hr){g.scroll.x=g.rail.drag.sx+(a.clientX-g.rail.drag.x),g.scroll.x<0&&(g.scroll.x=0);var b=g.scrollvaluemaxw;g.scroll.x>b&&(g.scroll.x=b)}else{g.scroll.y=g.rail.drag.sy+(a.clientY-g.rail.drag.y),g.scroll.y<0&&(g.scroll.y=0);var d=g.scrollvaluemax;g.scroll.y>d&&(g.scroll.y=d)}return g.synched("mousemove",function(){g.cursorfreezed&&(g.showCursor(),g.rail.drag.hr?g.scrollLeft(Math.round(g.scroll.x*g.scrollratio.x)):g.scrollTop(Math.round(g.scroll.y*g.scrollratio.y)))}),g.cancelEvent(a)}}else g.checkarea=0},c.cantouch||b.emulatetouch)g.onpreventclick=function(a){if(g.preventclick)return g.preventclick.tg.onclick=g.preventclick.click,g.preventclick=!1,g.cancelEvent(a)},g.onclick=!c.isios&&function(a){return!g.lastmouseup||(g.lastmouseup=!1,g.cancelEvent(a))},b.grabcursorenabled&&c.cursorgrabvalue&&(g.css(g.ispage?g.doc:g.win,{cursor:c.cursorgrabvalue}),g.css(g.rail,{cursor:c.cursorgrabvalue}));else{var E=function(c){if(g.selectiondrag){if(c){var b=g.win.outerHeight(),a=c.pageY-g.selectiondrag.top;a>0&&a<b&&(a=0),a>=b&&(a-=b),g.selectiondrag.df=a}if(0!==g.selectiondrag.df){var d=0| -(2*g.selectiondrag.df/6);g.doScrollBy(d),g.debounced("doselectionscroll",function(){E()},50)}}};"getSelection"in d?g.hasTextSelected=function(){return d.getSelection().rangeCount>0}:"selection"in d?g.hasTextSelected=function(){return"None"!=d.selection.type}:g.hasTextSelected=function(){return!1},g.onselectionstart=function(a){g.ispage||(g.selectiondrag=g.win.offset())},g.onselectionend=function(a){g.selectiondrag=!1},g.onselectiondrag=function(a){g.selectiondrag&&g.hasTextSelected()&&g.debounced("selectionscroll",function(){E(a)},250)}}if(c.hasw3ctouch?(g.css(g.ispage?$("html"):g.win,{"touch-action":"none"}),g.css(g.rail,{"touch-action":"none"}),g.css(g.cursor,{"touch-action":"none"}),g.bind(g.win,"pointerdown",g.ontouchstart),g.bind(d,"pointerup",g.ontouchend),g.delegate(d,"pointermove",g.ontouchmove)):c.hasmstouch?(g.css(g.ispage?$("html"):g.win,{"-ms-touch-action":"none"}),g.css(g.rail,{"-ms-touch-action":"none"}),g.css(g.cursor,{"-ms-touch-action":"none"}),g.bind(g.win,"MSPointerDown",g.ontouchstart),g.bind(d,"MSPointerUp",g.ontouchend),g.delegate(d,"MSPointerMove",g.ontouchmove),g.bind(g.cursor,"MSGestureHold",function(a){a.preventDefault()}),g.bind(g.cursor,"contextmenu",function(a){a.preventDefault()})):c.cantouch&&(g.bind(g.win,"touchstart",g.ontouchstart,!1,!0),g.bind(d,"touchend",g.ontouchend,!1,!0),g.bind(d,"touchcancel",g.ontouchend,!1,!0),g.delegate(d,"touchmove",g.ontouchmove,!1,!0)),b.emulatetouch&&(g.bind(g.win,"mousedown",g.ontouchstart,!1,!0),g.bind(d,"mouseup",g.ontouchend,!1,!0),g.bind(d,"mousemove",g.ontouchmove,!1,!0)),(b.cursordragontouch|| !c.cantouch&&!b.emulatetouch)&&(g.rail.css({cursor:"default"}),g.railh&&g.railh.css({cursor:"default"}),g.jqbind(g.rail,"mouseenter",function(){if(!g.ispage&&!g.win.is(":visible"))return!1;g.canshowonmouseevent&&g.showCursor(),g.rail.active=!0}),g.jqbind(g.rail,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}),b.sensitiverail&&(g.bind(g.rail,"click",function(a){g.doRailClick(a,!1,!1)}),g.bind(g.rail,"dblclick",function(a){g.doRailClick(a,!0,!1)}),g.bind(g.cursor,"click",function(a){g.cancelEvent(a)}),g.bind(g.cursor,"dblclick",function(a){g.cancelEvent(a)})),g.railh&&(g.jqbind(g.railh,"mouseenter",function(){if(!g.ispage&&!g.win.is(":visible"))return!1;g.canshowonmouseevent&&g.showCursor(),g.rail.active=!0}),g.jqbind(g.railh,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}),b.sensitiverail&&(g.bind(g.railh,"click",function(a){g.doRailClick(a,!1,!0)}),g.bind(g.railh,"dblclick",function(a){g.doRailClick(a,!0,!0)}),g.bind(g.cursorh,"click",function(a){g.cancelEvent(a)}),g.bind(g.cursorh,"dblclick",function(a){g.cancelEvent(a)})))),b.cursordragontouch&&(this.istouchcapable||c.cantouch)&&(g.bind(g.cursor,"touchstart",g.ontouchstartCursor),g.bind(g.cursor,"touchmove",g.ontouchmoveCursor),g.bind(g.cursor,"touchend",g.ontouchendCursor),g.cursorh&&g.bind(g.cursorh,"touchstart",function(a){g.ontouchstartCursor(a,!0)}),g.cursorh&&g.bind(g.cursorh,"touchmove",g.ontouchmoveCursor),g.cursorh&&g.bind(g.cursorh,"touchend",g.ontouchendCursor)),b.emulatetouch||c.isandroid||c.isios?(g.bind(c.hasmousecapture?g.win:d,"mouseup",g.ontouchend),g.onclick&&g.bind(d,"click",g.onclick),b.cursordragontouch?(g.bind(g.cursor,"mousedown",g.onmousedown),g.bind(g.cursor,"mouseup",g.onmouseup),g.cursorh&&g.bind(g.cursorh,"mousedown",function(a){g.onmousedown(a,!0)}),g.cursorh&&g.bind(g.cursorh,"mouseup",g.onmouseup)):(g.bind(g.rail,"mousedown",function(a){a.preventDefault()}),g.railh&&g.bind(g.railh,"mousedown",function(a){a.preventDefault()}))):(g.bind(c.hasmousecapture?g.win:d,"mouseup",g.onmouseup),g.bind(d,"mousemove",g.onmousemove),g.onclick&&g.bind(d,"click",g.onclick),g.bind(g.cursor,"mousedown",g.onmousedown),g.bind(g.cursor,"mouseup",g.onmouseup),g.railh&&(g.bind(g.cursorh,"mousedown",function(a){g.onmousedown(a,!0)}),g.bind(g.cursorh,"mouseup",g.onmouseup)),!g.ispage&&b.enablescrollonselection&&(g.bind(g.win[0],"mousedown",g.onselectionstart),g.bind(d,"mouseup",g.onselectionend),g.bind(g.cursor,"mouseup",g.onselectionend),g.cursorh&&g.bind(g.cursorh,"mouseup",g.onselectionend),g.bind(d,"mousemove",g.onselectiondrag)),g.zoom&&(g.jqbind(g.zoom,"mouseenter",function(){g.canshowonmouseevent&&g.showCursor(),g.rail.active=!0}),g.jqbind(g.zoom,"mouseleave",function(){g.rail.active=!1,g.rail.drag||g.hideCursor()}))),b.enablemousewheel&&(g.isiframe||g.mousewheel(c.isie&&g.ispage?d:g.win,g.onmousewheel),g.mousewheel(g.rail,g.onmousewheel),g.railh&&g.mousewheel(g.railh,g.onmousewheelhr)),g.ispage||c.cantouch||/HTML|^BODY/.test(g.win[0].nodeName)||(g.win.attr("tabindex")||g.win.attr({tabindex:++m}),g.bind(g.win,"focus",function(a){k=g.getTarget(a).id||g.getTarget(a)||!1,g.hasfocus=!0,g.canshowonmouseevent&&g.noticeCursor()}),g.bind(g.win,"blur",function(a){k=!1,g.hasfocus=!1}),g.bind(g.win,"mouseenter",function(a){l=g.getTarget(a).id||g.getTarget(a)||!1,g.hasmousefocus=!0,g.canshowonmouseevent&&g.noticeCursor()}),g.bind(g.win,"mouseleave",function(a){l=!1,g.hasmousefocus=!1,g.rail.drag||g.hideCursor()})),g.onkeypress=function(d){if(g.railslocked&&0===g.page.maxh)return!0;d=d||a.event;var e=g.getTarget(d);if(e&&/INPUT|TEXTAREA|SELECT|OPTION/.test(e.nodeName)&&(!(e.getAttribute("type")||e.type)||!/submit|button|cancel/i.tp)||$(e).attr("contenteditable"))return!0;if(g.hasfocus||g.hasmousefocus&&!k||g.ispage&&!k&&!l){var h=d.keyCode;if(g.railslocked&&27!=h)return g.cancelEvent(d);var f=d.ctrlKey||!1,i=d.shiftKey||!1,c=!1;switch(h){case 38:case 63233:g.doScrollBy(72),c=!0;break;case 40:case 63235:g.doScrollBy(-72),c=!0;break;case 37:case 63232:g.railh&&(f?g.doScrollLeft(0):g.doScrollLeftBy(72),c=!0);break;case 39:case 63234:g.railh&&(f?g.doScrollLeft(g.page.maxw):g.doScrollLeftBy(-72),c=!0);break;case 33:case 63276:g.doScrollBy(g.view.h),c=!0;break;case 34:case 63277:g.doScrollBy(-g.view.h),c=!0;break;case 36:case 63273:g.railh&&f?g.doScrollPos(0,0):g.doScrollTo(0),c=!0;break;case 35:case 63275:g.railh&&f?g.doScrollPos(g.page.maxw,g.page.maxh):g.doScrollTo(g.page.maxh),c=!0;break;case 32:b.spacebarenabled&&(i?g.doScrollBy(g.view.h):g.doScrollBy(-g.view.h),c=!0);break;case 27:g.zoomactive&&(g.doZoom(),c=!0)}if(c)return g.cancelEvent(d)}},b.enablekeyboard&&g.bind(d,c.isopera&&!c.isopera12?"keypress":"keydown",g.onkeypress),g.bind(d,"keydown",function(a){a.ctrlKey&&(g.wheelprevented=!0)}),g.bind(d,"keyup",function(a){a.ctrlKey||(g.wheelprevented=!1)}),g.bind(a,"blur",function(a){g.wheelprevented=!1}),g.bind(a,"resize",g.onscreenresize),g.bind(a,"orientationchange",g.onscreenresize),g.bind(a,"load",g.lazyResize),c.ischrome&&!g.ispage&&!g.haswrapper){var F=g.win.attr("style"),A=parseFloat(g.win.css("width"))+1;g.win.css("width",A),g.synched("chromefix",function(){g.win.attr("style",F)})}if(g.onAttributeChange=function(a){g.lazyResize(g.isieold?250:30)},b.enableobserver&&(g.isie11|| !1===s||(g.observerbody=new s(function(a){if(a.forEach(function(a){if("attributes"==a.type)return w.hasClass("modal-open")&&w.hasClass("modal-dialog")&&!$.contains($(".modal-dialog")[0],g.doc[0])?g.hide():g.show()}),g.me.clientWidth!=g.page.width||g.me.clientHeight!=g.page.height)return g.lazyResize(30)}),g.observerbody.observe(d.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!g.ispage&&!g.haswrapper)){var j=g.win[0];!1!==s?(g.observer=new s(function(a){a.forEach(g.onAttributeChange)}),g.observer.observe(j,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),g.observerremover=new s(function(a){a.forEach(function(a){if(a.removedNodes.length>0){for(var b in a.removedNodes)if(g&&a.removedNodes[b]===j)return g.remove()}})}),g.observerremover.observe(j.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(g.bind(j,c.isie&&!c.isie9?"propertychange":"DOMAttrModified",g.onAttributeChange),c.isie9&&j.attachEvent("onpropertychange",g.onAttributeChange),g.bind(j,"DOMNodeRemoved",function(a){a.target===j&&g.remove()}))}!g.ispage&&b.boxzoom&&g.bind(a,"resize",g.resizeZoom),g.istextarea&&(g.bind(g.win,"keydown",g.lazyResize),g.bind(g.win,"mouseup",g.lazyResize)),g.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var B=function(){g.iframexd=!1;try{var d;(d="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(f){g.iframexd=!0,d=!1}if(g.iframexd)return"console"in a&&console.log("NiceScroll error: policy restriced iframe"),!0;if(g.forcescreen=!0,g.isiframe&&(g.iframe={doc:$(d),html:g.doc.contents().find("html")[0],body:g.doc.contents().find("body")[0]},g.getContentSize=function(){return{w:Math.max(g.iframe.html.scrollWidth,g.iframe.body.scrollWidth),h:Math.max(g.iframe.html.scrollHeight,g.iframe.body.scrollHeight)}},g.docscroll=$(g.iframe.body)),!c.isios&&b.iframeautoresize&&!g.isiframe){g.win.scrollTop(0),g.doc.height("");var e=Math.max(d.getElementsByTagName("html")[0].scrollHeight,d.body.scrollHeight);g.doc.height(e)}g.lazyResize(30),g.css($(g.iframe.body),q),c.isios&&g.haswrapper&&g.css($(d.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?g.bind(this.contentWindow,"scroll",g.onscroll):g.bind(d,"scroll",g.onscroll),b.enablemousewheel&&g.mousewheel(d,g.onmousewheel),b.enablekeyboard&&g.bind(d,c.isopera?"keypress":"keydown",g.onkeypress),c.cantouch?(g.bind(d,"touchstart",g.ontouchstart),g.bind(d,"touchmove",g.ontouchmove)):b.emulatetouch&&(g.bind(d,"mousedown",g.ontouchstart),g.bind(d,"mousemove",function(a){return g.ontouchmove(a,!0)}),b.grabcursorenabled&&c.cursorgrabvalue&&g.css($(d.body),{cursor:c.cursorgrabvalue})),g.bind(d,"mouseup",g.ontouchend),g.zoom&&(b.dblclickzoom&&g.bind(d,"dblclick",g.doZoom),g.ongesturezoom&&g.bind(d,"gestureend",g.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){B.call(g.doc[0],!1)},500),g.bind(this.doc,"load",B)}},this.showCursor=function(a,c){if(g.cursortimeout&&(clearTimeout(g.cursortimeout),g.cursortimeout=0),g.rail){if(g.autohidedom&&(g.autohidedom.stop().css({opacity:b.cursoropacitymax}),g.cursoractive=!0),g.rail.drag&&1==g.rail.drag.pt||(void 0!==a&& !1!==a&&(g.scroll.y=a/g.scrollratio.y|0),void 0===c||(g.scroll.x=c/g.scrollratio.x|0)),g.cursor.css({height:g.cursorheight,top:g.scroll.y}),g.cursorh){var d=g.hasreversehr?g.scrollvaluemaxw-g.scroll.x:g.scroll.x;g.cursorh.css({width:g.cursorwidth,left:!g.rail.align&&g.rail.visibility?d+g.rail.width:d}),g.cursoractive=!0}g.zoom&&g.zoom.stop().css({opacity:b.cursoropacitymax})}},this.hideCursor=function(a){!g.cursortimeout&&g.rail&&g.autohidedom&&(g.hasmousefocus&&"leave"===b.autohidemode||(g.cursortimeout=setTimeout(function(){g.rail.active&&g.showonmouseevent||(g.autohidedom.stop().animate({opacity:b.cursoropacitymin}),g.zoom&&g.zoom.stop().animate({opacity:b.cursoropacitymin}),g.cursoractive=!1),g.cursortimeout=0},a||b.hidecursordelay)))},this.noticeCursor=function(a,b,c){g.showCursor(b,c),g.rail.active||g.hideCursor(a)},this.getContentSize=g.ispage?function(){return{w:Math.max(d.body.scrollWidth,d.documentElement.scrollWidth),h:Math.max(d.body.scrollHeight,d.documentElement.scrollHeight)}}:g.haswrapper?function(){return{w:g.doc[0].offsetWidth,h:g.doc[0].offsetHeight}}:function(){return{w:g.docscroll[0].scrollWidth,h:g.docscroll[0].scrollHeight}},this.onResize=function(j,d){if(!g||!g.win)return!1;var e=g.page.maxh,f=g.page.maxw,h=g.view.h,i=g.view.w;if(g.view={w:g.ispage?g.win.width():g.win[0].clientWidth,h:g.ispage?g.win.height():g.win[0].clientHeight},g.page=d||g.getContentSize(),g.page.maxh=Math.max(0,g.page.h-g.view.h),g.page.maxw=Math.max(0,g.page.w-g.view.w),g.page.maxh==e&&g.page.maxw==f&&g.view.w==i&&g.view.h==h){if(g.ispage)return g;var a=g.win.offset();if(g.lastposition){var c=g.lastposition;if(c.top==a.top&&c.left==a.left)return g}g.lastposition=a}return(0===g.page.maxh?(g.hideRail(),g.scrollvaluemax=0,g.scroll.y=0,g.scrollratio.y=0,g.cursorheight=0,g.setScrollTop(0),g.rail&&(g.rail.scrollable=!1)):(g.page.maxh-=b.railpadding.top+b.railpadding.bottom,g.rail.scrollable=!0),0===g.page.maxw?(g.hideRailHr(),g.scrollvaluemaxw=0,g.scroll.x=0,g.scrollratio.x=0,g.cursorwidth=0,g.setScrollLeft(0),g.railh&&(g.railh.scrollable=!1)):(g.page.maxw-=b.railpadding.left+b.railpadding.right,g.railh&&(g.railh.scrollable=b.horizrailenabled)),g.railslocked=g.locked||0===g.page.maxh&&0===g.page.maxw,g.railslocked)?(g.ispage||g.updateScrollBar(g.view),!1):(g.hidden||(g.rail.visibility||g.showRail(),g.railh&&!g.railh.visibility&&g.showRailHr()),g.istextarea&&g.win.css("resize")&&"none"!=g.win.css("resize")&&(g.view.h-=20),g.cursorheight=Math.min(g.view.h,Math.round(g.view.h*(g.view.h/g.page.h))),g.cursorheight=b.cursorfixedheight?b.cursorfixedheight:Math.max(b.cursorminheight,g.cursorheight),g.cursorwidth=Math.min(g.view.w,Math.round(g.view.w*(g.view.w/g.page.w))),g.cursorwidth=b.cursorfixedheight?b.cursorfixedheight:Math.max(b.cursorminheight,g.cursorwidth),g.scrollvaluemax=g.view.h-g.cursorheight-(b.railpadding.top+b.railpadding.bottom),g.hasborderbox||(g.scrollvaluemax-=g.cursor[0].offsetHeight-g.cursor[0].clientHeight),g.railh&&(g.railh.width=g.page.maxh>0?g.view.w-g.rail.width:g.view.w,g.scrollvaluemaxw=g.railh.width-g.cursorwidth-(b.railpadding.left+b.railpadding.right)),g.ispage||g.updateScrollBar(g.view),g.scrollratio={x:g.page.maxw/g.scrollvaluemaxw,y:g.page.maxh/g.scrollvaluemax},g.getScrollTop()>g.page.maxh?g.doScrollTop(g.page.maxh):(g.scroll.y=g.getScrollTop()/g.scrollratio.y|0,g.scroll.x=g.getScrollLeft()/g.scrollratio.x|0,g.cursoractive&&g.noticeCursor()),g.scroll.y&&0===g.getScrollTop()&&g.doScrollTo(g.scroll.y*g.scrollratio.y|0),g)},this.resize=g.onResize;var F=0;function G(b,c,e,d){g._bind(b,c,function(d){var f={original:d=d||a.event,target:d.target||d.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==d.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return d.preventDefault?d.preventDefault():d.returnValue=!1,!1},stopImmediatePropagation:function(){d.stopImmediatePropagation?d.stopImmediatePropagation():d.cancelBubble=!0}};return"mousewheel"==c?(d.wheelDeltaX&&(f.deltaX=-0.025*d.wheelDeltaX),d.wheelDeltaY&&(f.deltaY=-0.025*d.wheelDeltaY),f.deltaY||f.deltaX||(f.deltaY=-0.025*d.wheelDelta)):f.deltaY=d.detail,e.call(b,f)},d)}this.onscreenresize=function(b){clearTimeout(F);var a=!g.ispage&&!g.haswrapper;a&&g.hideRails(),F=setTimeout(function(){g&&(a&&g.showRails(),g.resize()),F=0},120)},this.lazyResize=function(a){return clearTimeout(F),a=isNaN(a)?240:a,F=setTimeout(function(){g&&g.resize(),F=0},a),g},this.jqbind=function(a,b,c){g.events.push({e:a,n:b,f:c,q:!0}),$(a).on(b,c)},this.mousewheel=function(a,b,c){var e="jquery"in a?a[0]:a;if("onwheel"in d.createElement("div"))g._bind(e,"wheel",b,c||!1);else{var f=void 0!==d.onmousewheel?"mousewheel":"DOMMouseScroll";G(e,f,b,c||!1),"DOMMouseScroll"==f&&G(e,"MozMousePixelScroll",b,c||!1)}};var H=!1;if(c.haseventlistener){try{var A=Object.defineProperty({},"passive",{get:function(){H=!0}});a.addEventListener("test",null,A)}catch(I){}this.stopPropagation=function(a){return!!a&&((a=a.original?a.original:a).stopPropagation(),!1)},this.cancelEvent=function(a){return a.cancelable&&a.preventDefault(),a.stopImmediatePropagation(),a.preventManipulation&&a.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},a.constructor.prototype.addEventListener=d.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(a,b,c){this.attachEvent("on"+a,b)},a.constructor.prototype.removeEventListener=d.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(a,b,c){this.detachEvent("on"+a,b)},this.cancelEvent=function(b){return(b=b||a.event)&&(b.cancelBubble=!0,b.cancel=!0,b.returnValue=!1),!1},this.stopPropagation=function(b){return(b=b||a.event)&&(b.cancelBubble=!0),!1};this.delegate=function(d,b,c,e,f){var a=q[b]||!1;a||(a={a:[],l:[],f:function(c){for(var d=a.l,f=d.length-1,e=!1,b=f;b>=0;b--)if(!1===(e=d[b].call(c.target,c)))return!1;return e}},g.bind(d,b,a.f,e,f),q[b]=a),g.ispage?(a.a=[g.id].concat(a.a),a.l=[c].concat(a.l)):(a.a.push(g.id),a.l.push(c))},this.undelegate=function(d,c,f,h,i){var a=q[c]||!1;if(a&&a.l)for(var b=0,e=a.l.length;b<e;b++)a.a[b]===g.id&&(a.a.splice(b),a.l.splice(b),0===a.a.length&&(g._unbind(d,c,a.l.f),q[c]=null))},this.bind=function(a,b,c,d,e){var f="jquery"in a?a[0]:a;g._bind(f,b,c,d||!1,e||!1)},this._bind=function(a,b,c,d,e){g.events.push({e:a,n:b,f:c,b:d,q:!1}),H&&e?a.addEventListener(b,c,{passive:!1,capture:d}):a.addEventListener(b,c,d||!1)},this._unbind=function(b,a,c,d){q[a]?g.undelegate(b,a,c,d):b.removeEventListener(a,c,d)},this.unbindAll=function(){for(var b=0;b<g.events.length;b++){var a=g.events[b];a.q?a.e.unbind(a.n,a.f):g._unbind(a.e,a.n,a.f,a.b)}},this.showRails=function(){return g.showRail().showRailHr()},this.showRail=function(){return 0!==g.page.maxh&&(g.ispage||"none"!=g.win.css("display"))&&(g.rail.visibility=!0,g.rail.css("display","block")),g},this.showRailHr=function(){return g.railh&&0!==g.page.maxw&&(g.ispage||"none"!=g.win.css("display"))&&(g.railh.visibility=!0,g.railh.css("display","block")),g},this.hideRails=function(){return g.hideRail().hideRailHr()},this.hideRail=function(){return g.rail.visibility=!1,g.rail.css("display","none"),g},this.hideRailHr=function(){return g.railh&&(g.railh.visibility=!1,g.railh.css("display","none")),g},this.show=function(){return g.hidden=!1,g.railslocked=!1,g.showRails()},this.hide=function(){return g.hidden=!0,g.railslocked=!0,g.hideRails()},this.toggle=function(){return g.hidden?g.show():g.hide()},this.remove=function(){for(var d in g.stop(),g.cursortimeout&&clearTimeout(g.cursortimeout),g.delaylist)g.delaylist[d]&&f(g.delaylist[d].h);g.doZoomOut(),g.unbindAll(),c.isie9&&g.win[0].detachEvent("onpropertychange",g.onAttributeChange),!1!==g.observer&&g.observer.disconnect(),!1!==g.observerremover&&g.observerremover.disconnect(),!1!==g.observerbody&&g.observerbody.disconnect(),g.events=null,g.cursor&&g.cursor.remove(),g.cursorh&&g.cursorh.remove(),g.rail&&g.rail.remove(),g.railh&&g.railh.remove(),g.zoom&&g.zoom.remove();for(var b=0;b<g.saved.css.length;b++){var a=g.saved.css[b];a[0].css(a[1],void 0===a[2]?"":a[2])}g.saved=!1,g.me.data("__nicescroll","");var h=$.nicescroll;for(var e in h.each(function(a){if(this&&this.id===g.id){delete h[a];for(var b=++a;b<h.length;b++,a++)h[a]=h[b];h.length--,h.length&&delete h[h.length]}}),g)g[e]=null,delete g[e];g=null},this.scrollstart=function(a){return this.onscrollstart=a,g},this.scrollend=function(a){return this.onscrollend=a,g},this.scrollcancel=function(a){return this.onscrollcancel=a,g},this.zoomin=function(a){return this.onzoomin=a,g},this.zoomout=function(a){return this.onzoomout=a,g},this.isScrollable=function(b){var a=b.target?b.target:b;if("OPTION"==a.nodeName)return!0;for(;a&&1==a.nodeType&&a!==this.me[0]&&!/^BODY|HTML/.test(a.nodeName);){var c=$(a),d=c.css("overflowY")||c.css("overflowX")||c.css("overflow")||"";if(/scroll|auto/.test(d))return a.clientHeight!=a.scrollHeight;a=!!a.parentNode&&a.parentNode}return!1},this.getViewport=function(c){for(var a=!!c&&!!c.parentNode&&c.parentNode;a&&1==a.nodeType&&!/^BODY|HTML/.test(a.nodeName);){var b=$(a);if(/fixed|absolute/.test(b.css("position")))return b;var d=b.css("overflowY")||b.css("overflowX")||b.css("overflow")||"";if(/scroll|auto/.test(d)&&a.clientHeight!=a.scrollHeight||b.getNiceScroll().length>0)return b;a=!!a.parentNode&&a.parentNode}return!1},this.triggerScrollStart=function(a,b,c,d,e){if(g.onscrollstart){var f={type:"scrollstart",current:{x:a,y:b},request:{x:c,y:d},end:{x:g.newscrollx,y:g.newscrolly},speed:e};g.onscrollstart.call(g,f)}},this.triggerScrollEnd=function(){if(g.onscrollend){var a=g.getScrollLeft(),b=g.getScrollTop(),c={type:"scrollend",current:{x:a,y:b},end:{x:a,y:b}};g.onscrollend.call(g,c)}};var J=0,K=0,L=0,M=1;function N(c,a,h,i){g.scrollrunning||(g.newscrolly=g.getScrollTop(),g.newscrollx=g.getScrollLeft(),L=t());var j=t()-L;if(L=t(),j>350?M=1:M+=(2-M)/10,c=c*M|0,a=a*M|0,c){if(i){if(c<0){if(g.getScrollLeft()>=g.page.maxw)return!0}else if(0>=g.getScrollLeft())return!0}var e=c>0?1:-1;K!==e&&(g.scrollmom&&g.scrollmom.stop(),g.newscrollx=g.getScrollLeft(),K=e),g.lastdeltax-=c}if(a){if(function(){var b=g.getScrollTop();if(a<0){if(b>=g.page.maxh)return!0}else if(b<=0)return!0}()){if(b.nativeparentscrolling&&h&&!g.ispage&&!g.zoomactive)return!0;var d=g.view.h>>1;g.newscrolly< -d?(g.newscrolly=-d,a=-1):g.newscrolly>g.page.maxh+d?(g.newscrolly=g.page.maxh+d,a=1):a=0}var f=a>0?1:-1;J!==f&&(g.scrollmom&&g.scrollmom.stop(),g.newscrolly=g.getScrollTop(),J=f),g.lastdeltay-=a}(a||c)&&g.synched("relativexy",function(){var a=g.lastdeltay+g.newscrolly;g.lastdeltay=0;var b=g.lastdeltax+g.newscrollx;g.lastdeltax=0,g.rail.drag||g.doScrollPos(b,a)})}var O=!1;function P(c,f,e){var a,d;return!e&&!!O||((0===c.deltaMode?(a=0| -(c.deltaX*(b.mousescrollstep/54)),d=0| -(c.deltaY*(b.mousescrollstep/54))):1===c.deltaMode&&(a=0| -(c.deltaX*b.mousescrollstep*50/80),d=0| -(c.deltaY*b.mousescrollstep*50/80)),f&&b.oneaxismousemode&&0===a&&d&&(a=d,d=0,e)&&(a<0?g.getScrollLeft()>=g.page.maxw:0>=g.getScrollLeft())&&(d=a,a=0),g.isrtlmode&&(a=-a),N(a,d,e,!0))?void(e&&(O=!0)):(O=!1,c.stopImmediatePropagation(),c.preventDefault()))}if(this.onmousewheel=function(a){if(g.wheelprevented||g.locked)return!1;if(g.railslocked)return g.debounced("checkunlock",g.resize,250),!1;if(g.rail.drag)return g.cancelEvent(a);if("auto"===b.oneaxismousemode&&0!==a.deltaX&&(b.oneaxismousemode=!1),b.oneaxismousemode&&0===a.deltaX&&!g.rail.scrollable)return!g.railh||!g.railh.scrollable||g.onmousewheelhr(a);var c=t(),d=!1;if(b.preservenativescrolling&&g.checkarea+600<c&&(g.nativescrollingarea=g.isScrollable(a),d=!0),g.checkarea=c,g.nativescrollingarea)return!0;var e=P(a,!1,d);return e&&(g.checkarea=0),e},this.onmousewheelhr=function(a){if(!g.wheelprevented){if(g.railslocked||!g.railh.scrollable)return!0;if(g.rail.drag)return g.cancelEvent(a);var c=t(),d=!1;return b.preservenativescrolling&&g.checkarea+600<c&&(g.nativescrollingarea=g.isScrollable(a),d=!0),g.checkarea=c,!!g.nativescrollingarea||(g.railslocked?g.cancelEvent(a):P(a,!0,d))}},this.stop=function(){return g.cancelScroll(),g.scrollmon&&g.scrollmon.stop(),g.cursorfreezed=!1,g.scroll.y=Math.round(g.getScrollTop()*(1/g.scrollratio.y)),g.noticeCursor(),g},this.getTransitionSpeed=function(a){return 80+a/72*b.scrollspeed|0},b.smoothscroll){if(g.ishwscroll&&c.hastransition&&b.usetransition&&b.smoothscroll){var Q="";this.resetTransition=function(){Q="",g.doc.css(c.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(b,e){var d=e?b:g.getTransitionSpeed(b),a=d+"ms";return Q!==a&&(Q=a,g.doc.css(c.prefixstyle+"transition-duration",a)),d},this.doScrollLeft=function(a,b){var c=g.scrollrunning?g.newscrolly:g.getScrollTop();g.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=g.scrollrunning?g.newscrollx:g.getScrollLeft();g.doScrollPos(c,a,b)},this.cursorupdate={running:!1,start:function(){var a=this;if(!a.running){a.running=!0;var b=function(){a.running&&e(b),g.showCursor(g.getScrollTop(),g.getScrollLeft()),g.notifyScrollEvent(g.win[0])};e(b)}},stop:function(){this.running=!1}},this.doScrollPos=function(a,d,m){var f=g.getScrollTop(),h=g.getScrollLeft();if(((g.newscrolly-f)*(d-f)<0||(g.newscrollx-h)*(a-h)<0)&&g.cancelScroll(),b.bouncescroll?(d<0?d=d/2|0:d>g.page.maxh&&(d=g.page.maxh+(d-g.page.maxh)/2|0),a<0?a=a/2|0:a>g.page.maxw&&(a=g.page.maxw+(a-g.page.maxw)/2|0)):(d<0?d=0:d>g.page.maxh&&(d=g.page.maxh),a<0?a=0:a>g.page.maxw&&(a=g.page.maxw)),g.scrollrunning&&a==g.newscrollx&&d==g.newscrolly)return!1;g.newscrolly=d,g.newscrollx=a;var i=g.getScrollTop(),j=g.getScrollLeft(),e={};e.x=a-j,e.y=d-i;var l=0|Math.sqrt(e.x*e.x+e.y*e.y),k=g.prepareTransition(l);g.scrollrunning||(g.scrollrunning=!0,g.triggerScrollStart(j,i,a,d,k),g.cursorupdate.start()),g.scrollendtrapped=!0,c.transitionend||(g.scrollendtrapped&&clearTimeout(g.scrollendtrapped),g.scrollendtrapped=setTimeout(g.onScrollTransitionEnd,k)),g.setScrollTop(g.newscrolly),g.setScrollLeft(g.newscrollx)},this.cancelScroll=function(){if(!g.scrollendtrapped)return!0;var a=g.getScrollTop(),b=g.getScrollLeft();return g.scrollrunning=!1,c.transitionend||clearTimeout(c.transitionend),g.scrollendtrapped=!1,g.resetTransition(),g.setScrollTop(a),g.railh&&g.setScrollLeft(b),g.timerscroll&&g.timerscroll.tm&&clearInterval(g.timerscroll.tm),g.timerscroll=!1,g.cursorfreezed=!1,g.cursorupdate.stop(),g.showCursor(a,b),g},this.onScrollTransitionEnd=function(){if(g.scrollendtrapped){var a=g.getScrollTop(),c=g.getScrollLeft();if(a<0?a=0:a>g.page.maxh&&(a=g.page.maxh),c<0?c=0:c>g.page.maxw&&(c=g.page.maxw),a!=g.newscrolly||c!=g.newscrollx)return g.doScrollPos(c,a,b.snapbackspeed);g.scrollrunning&&g.triggerScrollEnd(),g.scrollrunning=!1,g.scrollendtrapped=!1,g.resetTransition(),g.timerscroll=!1,g.setScrollTop(a),g.railh&&g.setScrollLeft(c),g.cursorupdate.stop(),g.noticeCursor(!1,a,c),g.cursorfreezed=!1}}}else this.doScrollLeft=function(a,b){var c=g.scrollrunning?g.newscrolly:g.getScrollTop();g.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=g.scrollrunning?g.newscrollx:g.getScrollLeft();g.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,l){var c=g.getScrollTop(),d=g.getScrollLeft();((g.newscrolly-c)*(b-c)<0||(g.newscrollx-d)*(a-d)<0)&&g.cancelScroll();var f=!1;if(g.bouncescroll&&g.rail.visibility||(b<0?(b=0,f=!0):b>g.page.maxh&&(b=g.page.maxh,f=!0)),g.bouncescroll&&g.railh.visibility||(a<0?(a=0,f=!0):a>g.page.maxw&&(a=g.page.maxw,f=!0)),g.scrollrunning&&g.newscrolly===b&&g.newscrollx===a)return!0;g.newscrolly=b,g.newscrollx=a,g.dst={},g.dst.x=a-d,g.dst.y=b-c,g.dst.px=d,g.dst.py=c;var j=0|Math.sqrt(g.dst.x*g.dst.x+g.dst.y*g.dst.y),h=g.getTransitionSpeed(j);g.bzscroll={};var i=f?1:.58;g.bzscroll.x=new z(d,g.newscrollx,h,0,0,i,1),g.bzscroll.y=new z(c,g.newscrolly,h,0,0,i,1),t();var k=function(){if(g.scrollrunning){var a=g.bzscroll.y.getPos();g.setScrollLeft(g.bzscroll.x.getNow()),g.setScrollTop(g.bzscroll.y.getNow()),a<=1?g.timer=e(k):(g.scrollrunning=!1,g.timer=0,g.triggerScrollEnd())}};g.scrollrunning||(g.triggerScrollStart(d,c,a,b,h),g.scrollrunning=!0,g.timer=e(k))},this.cancelScroll=function(){return g.timer&&f(g.timer),g.timer=0,g.bzscroll=!1,g.scrollrunning=!1,g}}else this.doScrollLeft=function(a,b){var c=g.getScrollTop();g.doScrollPos(a,c,b)},this.doScrollTop=function(a,b){var c=g.getScrollLeft();g.doScrollPos(c,a,b)},this.doScrollPos=function(a,b,e){var c=a>g.page.maxw?g.page.maxw:a;c<0&&(c=0);var d=b>g.page.maxh?g.page.maxh:b;d<0&&(d=0),g.synched("scroll",function(){g.setScrollTop(d),g.setScrollLeft(c)})},this.cancelScroll=function(){};this.doScrollBy=function(a,b){N(0,a)},this.doScrollLeftBy=function(a,b){N(a,0)},this.doScrollTo=function(b,c){var a=c?Math.round(b*g.scrollratio.y):b;a<0?a=0:a>g.page.maxh&&(a=g.page.maxh),g.cursorfreezed=!1,g.doScrollTop(b)},this.checkContentSize=function(){var a=g.getContentSize();(a.h!=g.page.h||a.w!=g.page.w)&&g.resize(!1,a)},g.onscroll=function(a){g.rail.drag||g.cursorfreezed||g.synched("scroll",function(){g.scroll.y=Math.round(g.getScrollTop()/g.scrollratio.y),g.railh&&(g.scroll.x=Math.round(g.getScrollLeft()/g.scrollratio.x)),g.noticeCursor()})},g.bind(g.docscroll,"scroll",g.onscroll),this.doZoomIn=function(f){if(!g.zoomactive){g.zoomactive=!0,g.zoomrestore={style:{}};var b=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],d=g.win[0].style;for(var h in b){var a=b[h];g.zoomrestore.style[a]=void 0!==d[a]?d[a]:""}g.zoomrestore.style.width=g.win.css("width"),g.zoomrestore.style.height=g.win.css("height"),g.zoomrestore.padding={w:g.win.outerWidth()-g.win.width(),h:g.win.outerHeight()-g.win.height()},c.isios4&&(g.zoomrestore.scrollTop=p.scrollTop(),p.scrollTop(0)),g.win.css({position:c.isios4?"absolute":"fixed",top:0,left:0,zIndex:o+100,margin:0});var e=g.win.css("backgroundColor");return(""===e||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(e))&&g.win.css("backgroundColor","#fff"),g.rail.css({zIndex:o+101}),g.zoom.css({zIndex:o+102}),g.zoom.css("backgroundPosition","0 -18px"),g.resizeZoom(),g.onzoomin&&g.onzoomin.call(g),g.cancelEvent(f)}},this.doZoomOut=function(a){if(g.zoomactive)return g.zoomactive=!1,g.win.css("margin",""),g.win.css(g.zoomrestore.style),c.isios4&&p.scrollTop(g.zoomrestore.scrollTop),g.rail.css({"z-index":g.zindex}),g.zoom.css({"z-index":g.zindex}),g.zoomrestore=!1,g.zoom.css("backgroundPosition","0 0"),g.onResize(),g.onzoomout&&g.onzoomout.call(g),g.cancelEvent(a)},this.doZoom=function(a){return g.zoomactive?g.doZoomOut(a):g.doZoomIn(a)},this.resizeZoom=function(){if(g.zoomactive){var a=g.getScrollTop();g.win.css({width:p.width()-g.zoomrestore.padding.w+"px",height:p.height()-g.zoomrestore.padding.h+"px"}),g.onResize(),g.setScrollTop(Math.min(g.page.maxh,a))}},this.init(),$.nicescroll.push(this)},x=function(a){var b=this;this.nc=a,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(a,c){b.stop(),b.steptime=0,b.lasttime=t(),b.speedx=0,b.speedy=0,b.lastx=a,b.lasty=c,b.lastscrollx=-1,b.lastscrolly=-1},this.update=function(a,c){var d=t();b.steptime=d-b.lasttime,b.lasttime=d;var e=c-b.lasty,f=a-b.lastx,i=b.nc.getScrollTop(),j=b.nc.getScrollLeft(),g=i+e,h=j+f;b.snapx=h<0||h>b.nc.page.maxw,b.snapy=g<0||g>b.nc.page.maxh,b.speedx=f,b.speedy=e,b.lastx=a,b.lasty=c},this.stop=function(){b.nc.unsynched("domomentum2d"),b.timer&&clearTimeout(b.timer),b.timer=0,b.lastscrollx=-1,b.lastscrolly=-1},this.doSnapy=function(a,c){var d=!1;c<0?(c=0,d=!0):c>b.nc.page.maxh&&(c=b.nc.page.maxh,d=!0),a<0?(a=0,d=!0):a>b.nc.page.maxw&&(a=b.nc.page.maxw,d=!0),d?b.nc.doScrollPos(a,c,b.nc.opt.snapbackspeed):b.nc.triggerScrollEnd()},this.doMomentum=function(d){var e=t(),f=d?e+d:b.lasttime,g=b.nc.getScrollLeft(),h=b.nc.getScrollTop(),i=b.nc.page.maxh,j=b.nc.page.maxw;b.speedx=j>0?Math.min(60,b.speedx):0,b.speedy=i>0?Math.min(60,b.speedy):0;var a=f&&e-f<=60;(h<0||h>i||g<0||g>j)&&(a=!1);var l=!!b.speedy&&!!a&&b.speedy,m=!!b.speedx&&!!a&&b.speedx;if(l||m){var c=Math.max(16,b.steptime);if(c>50){var k=c/50;b.speedx*=k,b.speedy*=k,c=50}b.demulxy=0,b.lastscrollx=b.nc.getScrollLeft(),b.chkx=b.lastscrollx,b.lastscrolly=b.nc.getScrollTop(),b.chky=b.lastscrolly;var o=b.lastscrollx,p=b.lastscrolly,n=function(){var a=t()-e>600?.04:.02;b.speedx&&(o=Math.floor(b.lastscrollx-b.speedx*(1-b.demulxy)),b.lastscrollx=o,(o<0||o>j)&&(a=.1)),b.speedy&&(p=Math.floor(b.lastscrolly-b.speedy*(1-b.demulxy)),b.lastscrolly=p,(p<0||p>i)&&(a=.1)),b.demulxy=Math.min(1,b.demulxy+a),b.nc.synched("domomentum2d",function(){b.speedx&&(b.nc.getScrollLeft(),b.chkx=o,b.nc.setScrollLeft(o)),b.speedy&&(b.nc.getScrollTop(),b.chky=p,b.nc.setScrollTop(p)),b.timer||(b.nc.hideCursor(),b.doSnapy(o,p))}),b.demulxy<1?b.timer=setTimeout(n,c):(b.stop(),b.nc.hideCursor(),b.doSnapy(o,p))};n()}else b.doSnapy(b.nc.getScrollLeft(),b.nc.getScrollTop())}},y=b.fn.scrollTop;b.cssHooks.pageYOffset={get:function(b,c,d){var a=$.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.getScrollTop():y.call(b)},set:function(b,c){var a=$.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.setScrollTop(parseInt(c)):y.call(b,c),this}},b.fn.scrollTop=function(b){if(void 0!==b)return this.each(function(){var a=$.data(this,"__nicescroll")||!1;a&&a.ishwscroll?a.setScrollTop(parseInt(b)):y.call($(this),b)});var a=!!this[0]&&!!$.data(this[0],"__nicescroll");return a&&a.ishwscroll?a.getScrollTop():y.call(this)};var z=b.fn.scrollLeft;$.cssHooks.pageXOffset={get:function(b,c,d){var a=$.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.getScrollLeft():z.call(b)},set:function(b,c){var a=$.data(b,"__nicescroll")||!1;return a&&a.ishwscroll?a.setScrollLeft(parseInt(c)):z.call(b,c),this}},b.fn.scrollLeft=function(b){if(void 0!==b)return this.each(function(){var a=$.data(this,"__nicescroll")||!1;a&&a.ishwscroll?a.setScrollLeft(parseInt(b)):z.call($(this),b)});var a=!!this[0]&&!!$.data(this[0],"__nicescroll");return a&&a.ishwscroll?a.getScrollLeft():z.call(this)};var i=function(a){var d=this;if(this.length=0,this.name="nicescrollarray",this.each=function(a){return $.each(d,a),d},this.push=function(a){d[d.length]=a,d.length++},this.eq=function(a){return d[a]},a)for(var b=0;b<a.length;b++){var c=$.data(a[b],"__nicescroll")||!1;c&&(this[this.length]=c,this.length++)}return this};!function(c,b,d){for(var a=0,e=b.length;a<e;a++)d(c,b[a])}(i.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(a,b){a[b]=function(){var a=arguments;return this.each(function(){this[b].apply(this,a)})}}),b.fn.getNiceScroll=function(a){return void 0===a?new i(this):this[a]&&$.data(this[a],"__nicescroll")||!1},(b.expr.pseudos||b.expr[":"]).nicescroll=function(a){return void 0!==$.data(a,"__nicescroll")},$.fn.niceScroll=function(a,c){void 0!==c||"object"!=typeof a||"jquery"in a||(c=a,a=!1);var b=new i;return this.each(function(){var e=$(this),d=$.extend({},c);if(a){var g=$(a);d.doc=g.length>1?$(a,e):g,d.win=e}"doc"in d&&!("win"in d)&&(d.win=e);var f=e.data("__nicescroll")||!1;f||(d.doc=d.doc||e,f=new w(d,e),e.data("__nicescroll",f)),b.push(f)}),1===b.length?b[0]:b},a.NiceScroll={getjQuery:function(){return b}},$.nicescroll||($.nicescroll=new i,$.nicescroll.options=j)})
