{"version":3,"file":"try-automator.min.js","mappings":"gtBAAMA,EAAY,WAUhB,O,EATD,SAAAA,K,4FAAaC,CAAA,KAAAD,GAEZE,KAAKC,cAG2C,GAA3CD,KAAKE,UAAUC,kBAAkBC,QAErCJ,KAAKK,YAEP,E,EAAC,EAAAC,IAAA,cAAAC,MAED,WACCP,KAAKE,UAAY,CAChBC,kBAAmBK,OAAQ,qCAE7B,GAAC,CAAAF,IAAA,WAAAC,MAED,WAAyE,IAA/DE,EAAQC,UAAAN,OAAA,QAAAO,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAME,EAAIF,UAAAN,OAAA,QAAAO,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAMG,EAASH,UAAAN,OAAA,QAAAO,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAAMI,EAAMJ,UAAAN,OAAA,QAAAO,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAE7C,CAAE,4BAGHK,SAAUN,GAE7BD,OAAOQ,KAAK,CACXC,OAAQ,OACRC,IAAQC,iBAAiBC,KAAOX,EAAW,IAC3CG,KAAQJ,OAAOa,MAAOT,GAAS,IAAMJ,OAAOa,MAAM,CAAEC,WAAY,IAGhEC,WAAY,SAAUC,GACrBA,EAAIC,iBAAkB,aAAcN,iBAAiBO,MACtD,EAEAC,QAAS,SAAUC,QAEQ,IAAdf,GAEXA,EAAWe,EAEb,EAEAC,WAAY,CACX,IAAK,WACJC,SAASC,QACV,GAGDC,KAAM,SAAWJ,QACO,IAAXd,GACXA,EAAQc,EAEV,IAIDK,QAAQC,MAAM,OAADC,OAAU1B,EAAQ,6BAEjC,GAAC,CAAAH,IAAA,aAAAC,MAED,WAAY,IAAA6B,EAAA,KAEXpC,KAAKE,UAAUC,kBAAkBkC,GAAI,SAAS,SAAEC,GAE/CA,EAAMC,iBAGN,IAAMC,EAAiBhC,OAAQ8B,EAAMG,eAAgBC,QAAS,yCAG9DF,EAAeG,SAAU,iDAGzBP,EAAKQ,SAAU,2BAA4B,CAC1CC,OAAQ,iBACN,SAAEjB,GAECA,EAASD,QAEba,EAAeM,SAIfN,EAAeO,YAAa,gDAE9B,IAAG,WAEFP,EAAeO,YAAa,gDAC7B,GACD,GACD,I,4FAAC,CA3FgB,GA+FlBC,SAASC,iBAAiB,oBAAoB,WAC1C,IAAInD,CACR,G","sources":["webpack://tincanny/./scripts/try-automator.js"],"sourcesContent":["class TryAutomator {\n\tconstructor(){\n\t\t// Get the elements\n\t\tthis.getElements();\n\n\t\t// Check if the element exists\n\t\tif ( this.$elements.tryAutomatorXIcon.length == 1 ){\n\t\t\t// Listen clicks to it\n\t\t\tthis.handleHide();\n\t\t}\n\t}\n\n\tgetElements(){\n\t\tthis.$elements = {\n\t\t\ttryAutomatorXIcon: jQuery( '#ultc-sidebar-try-automator-close' )\n\t\t}\n\t}\n\n\trestCall( endPoint = null, data = null, onSuccess = null, onFail = null ){\n\t\t// Define the valid endpoints\n\t\tlet validEndpoints = [ 'try_automator_visibility' ];\n\n\t\t// Check if the endPoint parameter is a valid endpoint\n\t\tif ( validEndpoints.includes( endPoint ) ){\n\t\t\t// Do AJAX\n\t\t\tjQuery.ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl:    ultcRestApiSetup.root + endPoint + '/',\n\t\t\t\tdata:   jQuery.param( data ) + '&' + jQuery.param({ doing_rest: 1 }),\n\n\t\t\t\t// Attach Nonce the the header of the request\n\t\t\t\tbeforeSend: function( xhr ){\n\t\t\t\t\txhr.setRequestHeader( 'X-WP-Nonce', ultcRestApiSetup.nonce );\n\t\t\t\t},\n\n\t\t\t\tsuccess: function( response ){\n\t\t\t\t\t// Check if onSuccess\n\t\t\t\t\tif ( typeof onSuccess !== 'undefined' ){\n\t\t\t\t\t\t// Invoke callback\n\t\t\t\t\t\tonSuccess( response );\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tstatusCode: {\n\t\t\t\t\t403: function(){\n\t\t\t\t\t\tlocation.reload();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tfail: function ( response ){\n\t\t\t\t\tif ( typeof onFail !== 'undefined' ){\n\t\t\t\t\t\tonFail( response );\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tconsole.error( `The ${ endPoint } endPoint does not exists` );\n\t\t}\n\t}\n\n\thandleHide(){\n\t\t// Listen clicks to the \"X\" icon\n\t\tthis.$elements.tryAutomatorXIcon.on( 'click', ( event ) => {\n\t\t\t// Prevent default\n\t\t\tevent.preventDefault();\n\n\t\t\t// Get the row\n\t\t\tconst $itemContainer = jQuery( event.currentTarget ).closest( '.ultc-sidebar-featured-item-container' );\n\n\t\t\t// Add loading class to the row\n\t\t\t$itemContainer.addClass( 'ultc-sidebar-featured-item-container--loading' );\n\n\t\t\t// Do a call to hide the row\n\t\t\tthis.restCall( 'try_automator_visibility', {\n\t\t\t\taction: 'hide-forever'\n\t\t\t}, ( response ) => {\n\t\t\t\t// Check if the task was successful\n\t\t\t\tif ( response.success ){\n\t\t\t\t\t// Hide the row\n\t\t\t\t\t$itemContainer.remove();\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Remove the loading class to the row\n\t\t\t\t\t$itemContainer.removeClass( 'ultc-sidebar-featured-item-container--loading' );\n\t\t\t\t}\n\t\t\t}, () => {\n\t\t\t\t// Remove the loading class to the row\n\t\t\t\t$itemContainer.removeClass( 'ultc-sidebar-featured-item-container--loading' );\n\t\t\t});\n\t\t});\n\t}\n}\n\n// Do on DOM ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    new TryAutomator();\n});\n"],"names":["TryAutomator","_classCallCheck","this","getElements","$elements","tryAutomatorXIcon","length","handleHide","key","value","jQuery","endPoint","arguments","undefined","data","onSuccess","onFail","includes","ajax","method","url","ultcRestApiSetup","root","param","doing_rest","beforeSend","xhr","setRequestHeader","nonce","success","response","statusCode","location","reload","fail","console","error","concat","_this","on","event","preventDefault","$itemContainer","currentTarget","closest","addClass","restCall","action","remove","removeClass","document","addEventListener"],"sourceRoot":""}